# День 01

Таблицы связей

1. Таблица **pizzeria** (Словарная таблица с доступными пиццериями)
- поле id - первичный ключ
- поле name - название пиццерии
- поле рейтинг - средний рейтинг пиццерии (от 0 до 5 баллов)
2. Таблица **person** (Словарная таблица с лицами, которые любят пиццу)
- поле id - первичный ключ
- поле name - имя человека
- поле age - возраст человека
- поле gender - пол человека
- поле адрес - адрес человека
3. Таблица **меню** (Словарная таблица с доступным меню и ценой на конкретную пиццу)
- поле id - первичный ключ
- поле pizzeria_id - внешний ключ к пиццерии
- поле pizza_name - название пиццы в пиццерии
- поле price - цена пиццы
4. Таблица **person_visits** (Оперативная таблица с информацией о посещениях пиццерии)
- поле id - первичный ключ
- поле person_id - внешний ключ к персоне
- поле pizzeria_id - внешний ключ к пиццерии
- поле visit_date - дата (например, 2022-01-01) визита человека. 
5. Таблица **person_order** (Оперативная таблица с информацией о заказах персон)
- поле id - первичный ключ
- поле person_id - внешний ключ к персоне
- поле menu_id - внешний ключ к меню
- поле order_date - дата (например, 2022-01-01) заказа человека. 


## Упражнение 00

Напишите SQL-запрос, который возвращает идентификатор меню и названия пицц из таблицы `menu` и идентификатор человека и его имя из таблицы `person` в один глобальный список (с именами столбцов, как представлено на примере ниже), упорядоченный по столбцам object_id и object_name.


## Упражнение 01
Пожалуйста, измените SQL-запрос из "упражнения 00", удалив столбец object_id. Затем измените упорядочивание по имени_объекта для части данных из таблицы `person` и затем из таблицы `menu` (как представлено на примере ниже). Пожалуйста, сохраните дубликаты!


## Упражнение 02

Напишите SQL-запрос, который возвращает уникальные названия пицц из таблицы `menu` и заказов по столбцу pizza_name в нисходящем порядке. Пожалуйста, обратите внимание на раздел "Отказано".


## Упражнение 03

Напишите, пожалуйста, SQL-запрос, который возвращает общие строки для атрибутов order_date, person_id из таблицы `person_order` с одной стороны и visit_date, person_id из таблицы `person_visits` с другой стороны (см. пример ниже). Другими словами, давайте найдем идентификаторы людей, которые посетили и заказали пиццу в один и тот же день. На самом деле, пожалуйста, добавьте упорядочивание по дате действия (action_date) в возрастающем режиме, а затем по идентификатору персоны (person_id) в убывающем режиме.


## Упражнение 04

Напишите SQL-запрос, который возвращает разность (минус) значений столбца person_id с сохранением дубликатов между таблицей `person_order` и таблицей `person_visits` для дат order_date и visit_date за 7 января 2022 г.


## Упражнение 05
Напишите, пожалуйста, SQL-запрос, который возвращает все возможные комбинации между таблицами `person` и `pizzeria` и установите упорядочивание по идентификатору персоны, а затем по столбцам идентификатора пиццерии. Пожалуйста, посмотрите на пример результата ниже. Пожалуйста, обратите внимание, что названия столбцов могут быть другими.


## Упражнение 06

Давайте вернемся к упражнению #03 и изменим наш SQL-запрос, чтобы возвращать имена людей вместо их идентификаторов, и изменим упорядочивание по дате_действия в возрастающем режиме, а затем по имени_человека в убывающем режиме. Пожалуйста, посмотрите на пример данных ниже.


## Упражнение 07

Напишите SQL-запрос, который возвращает дату заказа из таблицы `person_order` и соответствующее имя человека (имя и возраст форматируются как в примере данных ниже), который сделал заказ из таблицы `person`. Добавьте сортировку по обоим столбцам в режиме возрастания.


## Упражнение 08

Пожалуйста, перепишите SQL-запрос из упражнения #07, используя конструкцию NATURAL JOIN. Результат должен быть таким же, как и в упражнении #07.  


## Упражнение 09

Напишите 2 оператора SQL, которые возвращают список названий пиццерий, которые не были посещены людьми, используя IN для первого и EXISTS для второго.


## Упражнение 10

Напишите SQL-запрос, который возвращает список имен людей, сделавших заказ на пиццу в соответствующей пиццерии. Пример результата (с именованными столбцами) приведен ниже и да... пожалуйста, сделайте упорядочивание по 3 столбцам по возрастанию.
